
var Cloud = require('..');
var assert = require('assert');

describe('Cloud#task(name, desc, fn)', function(){
  it('should define a task', function(){
     var c = new Cloud;
     c.task('foo', 'does something', function(){});
     c.task('bar', 'does something', function(){});
     assert(2 == Object.keys(c.tasks).length);
  })
})

describe('Cloud#task(name)', function(){
  it('should return the task function', function(){
    var c = new Cloud;
    c.task('foo', 'does something', function(){});

    var t = c.task('foo');
    assert('function' == typeof t);
  })
})